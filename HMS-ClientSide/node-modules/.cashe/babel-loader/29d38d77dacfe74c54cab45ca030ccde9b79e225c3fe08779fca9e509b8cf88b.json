{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Documents\\\\Hotel Management System\\\\Hotel_Management_System-React-TS\\\\src\\\\pages\\\\Signin\\\\Signin.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./signin.style.css\";\nimport { Form, Formik } from \"formik\";\nimport { Grid, Heading, Stack, useToast } from \"@chakra-ui/react\";\nimport { InputControl, SubmitButton } from \"formik-chakra-ui\";\nimport { useSigninUserMutation } from \"../../store/api/authAPi\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { useAppDispatch } from \"../../store/hook\";\nimport { setUser } from \"../../store/state/authSlice\";\nimport * as Yup from \"yup\";\nimport \"./signin.style.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Signin = () => {\n  _s();\n  const dispatch = useAppDispatch();\n  const [email, setEmail] = useState();\n  const toast = useToast();\n  const {\n    state\n  } = useLocation();\n  const navigate = useNavigate();\n  const [signinUser, {\n    data,\n    isLoading,\n    error,\n    isError,\n    isSuccess\n  }] = useSigninUserMutation();\n  console.log(data);\n  console.log(error);\n  if (isError) {\n    toast({\n      title: error.data.message,\n      status: \"error\",\n      duration: 5000\n    });\n  }\n  if (isSuccess) {\n    dispatch(setUser({\n      token: data.token,\n      name: data.name\n    }));\n    navigate(\"/\");\n    localStorage.setItem(\"token\", data.token);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Basic\", \"Login\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        email: \"\",\n        password: \"\"\n      },\n      onSubmit: values => {\n        signinUser({\n          ...values\n        });\n        // console.log(values);\n        // setEmail(values.email);\n      },\n\n      validationSchema: Yup.object({\n        email: Yup.string().email(\"Invalid email address\").required(\"Email address is required\"),\n        password: Yup.string().required(\"Password is required\")\n      }),\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        className: \"signin\",\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          h: \"100vh\",\n          placeItems: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Stack, {\n            p: \"4\",\n            boxShadow: \"xl\",\n            borderRadius: \"md\",\n            children: [/*#__PURE__*/_jsxDEV(Heading, {\n              color: \"teal\",\n              textAlign: \"center\",\n              fontSize: \"lg\",\n              fontWeight: \"semibold\",\n              children: \"Signin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(InputControl, {\n              name: \"email\",\n              label: \"Email\",\n              inputProps: {\n                type: \"email\",\n                placeholder: \"Enter Email...\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(InputControl, {\n              name: \"password\",\n              label: \"Password\",\n              inputProps: {\n                placeholder: \"Enter Password...\",\n                type: \"password\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n              isLoading: isLoading,\n              children: \"Signin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n_s(Signin, \"gvALYu1MPaRh1HW/WqdcIp8Kx8s=\", false, function () {\n  return [useAppDispatch, useToast, useLocation, useNavigate, useSigninUserMutation];\n});\n_c = Signin;\nexport default Signin;\nvar _c;\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"names":["React","useState","Form","Formik","Grid","Heading","Stack","useToast","InputControl","SubmitButton","useSigninUserMutation","useLocation","useNavigate","useAppDispatch","setUser","Yup","Signin","dispatch","email","setEmail","toast","state","navigate","signinUser","data","isLoading","error","isError","isSuccess","console","log","title","message","status","duration","token","name","localStorage","setItem","password","values","object","string","required","type","placeholder"],"sources":["C:/Users/DELL/Documents/Hotel Management System/Hotel_Management_System-React-TS/src/pages/Signin/Signin.tsx"],"sourcesContent":["import React, {useState} from \"react\";\r\nimport \"./signin.style.css\"\r\nimport {Form, Formik, FormikHelpers, FormikValues, useFormik} from \"formik\";\r\nimport {Flex, Grid, Heading, Link, Stack, useToast} from \"@chakra-ui/react\";\r\nimport {InputControl, SubmitButton} from \"formik-chakra-ui\";\r\nimport {useSigninUserMutation} from \"../../store/api/authAPi\";\r\nimport {isError} from \"@tanstack/react-query\";\r\nimport {useLocation, useNavigate} from \"react-router-dom\";\r\nimport {useAppDispatch} from \"../../store/hook\";\r\nimport {setUser} from \"../../store/state/authSlice\"\r\nimport * as Yup from \"yup\";\r\nimport \"./signin.style.css\";\r\n\r\nconst Signin = () => {\r\n    const dispatch = useAppDispatch();\r\n    const [email, setEmail] = useState<string>();\r\n    const toast = useToast();\r\n    const {state} = useLocation();\r\n    const navigate = useNavigate();\r\n\r\n\r\n    const [signinUser, {data, isLoading, error, isError, isSuccess}] = useSigninUserMutation();\r\n    console.log(data);\r\n    console.log(error);\r\n    if (isError) {\r\n        toast({\r\n            title: (error as any).data.message,\r\n            status: \"error\",\r\n            duration: 5000\r\n        });\r\n    }\r\n\r\n\r\n    if (isSuccess) {\r\n        dispatch(setUser({token: data.token, name: data.name}));\r\n        navigate(\"/\");\r\n        localStorage.setItem(\"token\", data.token);\r\n    }\r\n\r\n    return (\r\n        <div className=\"app\">\r\n            <h1>\r\n                Basic{\"Login\"}\r\n            </h1>\r\n            <Formik\r\n                    initialValues={{ email: \"\", password: \"\" }}\r\n\r\n                    onSubmit={(values) => {\r\n                    signinUser({ ...values });\r\n                    // console.log(values);\r\n                    // setEmail(values.email);\r\n                    }}\r\n                    validationSchema={Yup.object({\r\n                        email: Yup.string()\r\n                            .email(\"Invalid email address\")\r\n                            .required(\"Email address is required\"),\r\n                        password: Yup.string()\r\n                            .required(\"Password is required\"),\r\n                    }\r\n                )}\r\n\r\n\r\n\r\n\r\n\r\n\r\n            >\r\n                <Form className={\"signin\"} >\r\n                    <Grid h=\"100vh\" placeItems=\"center\">\r\n                        <Stack p=\"4\" boxShadow=\"xl\" borderRadius=\"md\">\r\n                            <Heading\r\n                                color=\"teal\"\r\n                                textAlign=\"center\"\r\n                                fontSize=\"lg\"\r\n                                fontWeight=\"semibold\"\r\n                            >\r\n                                Signin\r\n                            </Heading>\r\n                            <InputControl\r\n                                name=\"email\"\r\n                                label=\"Email\"\r\n                                inputProps={{\r\n                                    type: \"email\",\r\n                                    placeholder: \"Enter Email...\",\r\n                                }}\r\n                            />\r\n                            <InputControl\r\n                                name=\"password\"\r\n                                label=\"Password\"\r\n                                inputProps={{\r\n                                    placeholder: \"Enter Password...\",\r\n                                    type: \"password\",\r\n                                }}\r\n                            />\r\n                            {/*<Flex justify=\"flex-end\">*/}\r\n                            {/*    <Text as={Link} to=\"/forgot-password\" color=\"teal\">*/}\r\n                            {/*        Forgot Password*/}\r\n                            {/*    </Text>*/}\r\n                            {/*</Flex>*/}\r\n                            <SubmitButton isLoading={isLoading}>Signin</SubmitButton>\r\n                        </Stack>\r\n                    </Grid>\r\n                </Form>\r\n            </Formik>\r\n        </div>\r\n    );\r\n};\r\nexport default Signin;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}