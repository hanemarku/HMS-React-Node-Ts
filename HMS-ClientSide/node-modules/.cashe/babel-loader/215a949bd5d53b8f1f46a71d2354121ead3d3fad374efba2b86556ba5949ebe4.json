{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Documents\\\\Hotel Management System\\\\Hotel_Management_System-React-TS\\\\src\\\\pages\\\\Signin\\\\Signin.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./signin.style.sass\";\nimport { Form, Formik } from \"formik\";\nimport { Grid, Heading, Stack, useToast } from \"@chakra-ui/react\";\nimport { InputControl, SubmitButton } from \"formik-chakra-ui\";\nimport { useSigninUserMutation } from \"../../store/api/authAPi\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { useAppDispatch } from \"../../store/hook\";\nimport { setUser } from \"../../store/state/authSlice\";\nimport * as Yup from \"yup\";\nimport \"./signin.style.sass\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Signin = () => {\n  _s();\n  const dispatch = useAppDispatch();\n  const [email, setEmail] = useState();\n  const toast = useToast();\n  const {\n    state\n  } = useLocation();\n  const navigate = useNavigate();\n  const [signinUser, {\n    data,\n    isLoading,\n    error,\n    isError,\n    isSuccess\n  }] = useSigninUserMutation();\n  console.log(data);\n  console.log(error);\n  if (isError) {\n    toast({\n      title: error.data.message,\n      status: \"error\",\n      duration: 5000\n    });\n  }\n  if (isSuccess) {\n    dispatch(setUser({\n      token: data.token,\n      name: data.name\n    }));\n    navigate(\"/\");\n    localStorage.setItem(\"token\", data.token);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-image\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"card-heading\",\n          children: [\"Premium Hotel\", /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"Signin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"card-form\",\n        children: /*#__PURE__*/_jsxDEV(Formik, {\n          initialValues: {\n            email: \"\",\n            password: \"\"\n          },\n          onSubmit: values => {\n            signinUser({\n              ...values\n            });\n            // console.log(values);\n            // setEmail(values.email);\n          },\n\n          validationSchema: Yup.object({\n            email: Yup.string().email(\"Invalid email address\").required(\"Email address is required\"),\n            password: Yup.string().required(\"Password is required\")\n          }),\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              h: \"100vh\",\n              placeItems: \"center\",\n              children: /*#__PURE__*/_jsxDEV(Stack, {\n                p: \"4\",\n                boxShadow: \"xl\",\n                borderRadius: \"md\",\n                children: [/*#__PURE__*/_jsxDEV(Heading, {\n                  color: \"teal\",\n                  textAlign: \"center\",\n                  fontSize: \"lg\",\n                  fontWeight: \"semibold\",\n                  children: \"Signin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(InputControl, {\n                  className: \"input-field\",\n                  name: \"email\",\n                  label: \"Email\",\n                  inputProps: {\n                    type: \"email\",\n                    placeholder: \"Enter Email...\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(InputControl, {\n                  className: \"input-field\",\n                  name: \"password\",\n                  label: \"Password\",\n                  inputProps: {\n                    placeholder: \"Enter Password...\",\n                    type: \"password\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n                  className: \"action\",\n                  isLoading: isLoading,\n                  children: \"Signin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n_s(Signin, \"gvALYu1MPaRh1HW/WqdcIp8Kx8s=\", false, function () {\n  return [useAppDispatch, useToast, useLocation, useNavigate, useSigninUserMutation];\n});\n_c = Signin;\nexport default Signin;\nvar _c;\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"names":["React","useState","Form","Formik","Grid","Heading","Stack","useToast","InputControl","SubmitButton","useSigninUserMutation","useLocation","useNavigate","useAppDispatch","setUser","Yup","Signin","dispatch","email","setEmail","toast","state","navigate","signinUser","data","isLoading","error","isError","isSuccess","console","log","title","message","status","duration","token","name","localStorage","setItem","password","values","object","string","required","type","placeholder"],"sources":["C:/Users/DELL/Documents/Hotel Management System/Hotel_Management_System-React-TS/src/pages/Signin/Signin.tsx"],"sourcesContent":["import React, {useState} from \"react\";\r\nimport \"./signin.style.sass\"\r\nimport {Form, Formik, FormikHelpers, FormikValues, useFormik} from \"formik\";\r\nimport {Flex, Grid, Heading, Link, Stack, useToast} from \"@chakra-ui/react\";\r\nimport {InputControl, SubmitButton} from \"formik-chakra-ui\";\r\nimport {useSigninUserMutation} from \"../../store/api/authAPi\";\r\nimport {isError} from \"@tanstack/react-query\";\r\nimport {useLocation, useNavigate} from \"react-router-dom\";\r\nimport {useAppDispatch} from \"../../store/hook\";\r\nimport {setUser} from \"../../store/state/authSlice\"\r\nimport * as Yup from \"yup\";\r\nimport \"./signin.style.sass\";\r\n\r\nconst Signin = () => {\r\n    const dispatch = useAppDispatch();\r\n    const [email, setEmail] = useState<string>();\r\n    const toast = useToast();\r\n    const {state} = useLocation();\r\n    const navigate = useNavigate();\r\n\r\n\r\n    const [signinUser, {data, isLoading, error, isError, isSuccess}] = useSigninUserMutation();\r\n    console.log(data);\r\n    console.log(error);\r\n    if (isError) {\r\n        toast({\r\n            title: (error as any).data.message,\r\n            status: \"error\",\r\n            duration: 5000\r\n        });\r\n    }\r\n\r\n\r\n    if (isSuccess) {\r\n        dispatch(setUser({token: data.token, name: data.name}));\r\n        navigate(\"/\");\r\n        localStorage.setItem(\"token\", data.token);\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"card\">\r\n                <div className=\"card-image\">\r\n                    <h2 className=\"card-heading\">\r\n                        Premium Hotel\r\n                        <small>Signin</small>\r\n                    </h2>\r\n                </div>\r\n                <form  className={\"card-form\"}>\r\n                    <Formik\r\n                        initialValues={{ email: \"\", password: \"\" }}\r\n\r\n                        onSubmit={(values) => {\r\n                            signinUser({ ...values });\r\n                            // console.log(values);\r\n                            // setEmail(values.email);\r\n                        }}\r\n                        validationSchema={Yup.object({\r\n                                email: Yup.string()\r\n                                    .email(\"Invalid email address\")\r\n                                    .required(\"Email address is required\"),\r\n                                password: Yup.string()\r\n                                    .required(\"Password is required\"),\r\n                            }\r\n                        )}\r\n                    >\r\n                        <Form >\r\n                            <Grid h=\"100vh\" placeItems=\"center\">\r\n                                <Stack p=\"4\" boxShadow=\"xl\" borderRadius=\"md\">\r\n                                    <Heading\r\n                                        color=\"teal\"\r\n                                        textAlign=\"center\"\r\n                                        fontSize=\"lg\"\r\n                                        fontWeight=\"semibold\"\r\n                                    >\r\n                                        Signin\r\n                                    </Heading>\r\n                                    <InputControl\r\n                                        className={\"input-field\"}\r\n                                        name=\"email\"\r\n                                        label=\"Email\"\r\n                                        inputProps={{\r\n                                            type: \"email\",\r\n                                            placeholder: \"Enter Email...\",\r\n                                        }}\r\n                                    />\r\n                                    <InputControl\r\n                                        className={\"input-field\"}\r\n                                        name=\"password\"\r\n                                        label=\"Password\"\r\n                                        inputProps={{\r\n                                            placeholder: \"Enter Password...\",\r\n                                            type: \"password\",\r\n                                        }}\r\n                                    />\r\n                                    {/*<Flex justify=\"flex-end\">*/}\r\n                                    {/*    <Text as={Link} to=\"/forgot-password\" color=\"teal\">*/}\r\n                                    {/*        Forgot Password*/}\r\n                                    {/*    </Text>*/}\r\n                                    {/*</Flex>*/}\r\n                                    <SubmitButton className=\"action\" isLoading={isLoading}>Signin</SubmitButton>\r\n                                </Stack>\r\n                            </Grid>\r\n                        </Form>\r\n                    </Formik>\r\n                </form>\r\n\r\n        </div>\r\n        </div>\r\n\r\n    );\r\n};\r\nexport default Signin;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}